// room script file
bool SecondPress = false;

function room_Load (){
  cMick.x = 100;
  cMick.y = 615; 
  cCrazyLarry.FaceLocation(400, 150);
  oLaser.SetView(7);
  oLaser.Animate(0, 5, eRepeat, eNoBlock, eForwards);
  }

  
  //Exiting the room- three presses on the 3rd button needed
  function oEscapeButton_Look(){
  cMick.Say("Maybe that's the way out of here");
}

int counter = 0;
function oEscapeButton_Interact()
{
    cMick.Walk(724, 480, eBlock);
    aLaser.Play(eAudioPriorityHigh);
    oLaserShot.SetView(7, 2, 0);
    oLaserShot.Visible = true;
    oLaserShot.Animate(2, 5, eOnce, eBlock);
    oLaserShot.Visible = false;
    cMick.ChangeView(8);
    cMick.Animate(0, 4, eOnce, eBlock);
    cMick.SayBackground("AAHHHH!!!");
    aDeath_sound.Play(eAudioPriorityHigh);
    justDied = true;
    gameEnd = true;
    player.ChangeRoom(1);
  
}

function room_FirstLoad()
{
  RemoveWalkableArea(2);
}

function room_AfterFadeIn()
{
cMick.Walk(200, 505, eBlock);
cCrazyLarry.Say("..and then I saw all three of them at the same time!");
cCrazyLarry.Say("I'm telling you! Fire, ice AND thunder. All three birds!");
cCrazyLarry.Say("You don't believe me Gunther? You never.. AHH!");
cCrazyLarry.FaceLocation(400, 500);
cCrazyLarry.Say("Where did you come from?");
cMick.Say("The door right there. Who are you?");
cCrazyLarry.Say("Larry's the name, friend. And this is my loyal servant Gunther, who should really work on his attitude!");
cMick.Say("Gunther..? Oh never mind, how do we get out of here?");
cCrazyLarry.Say("Ho ho ho! Do you think if I had the answer to that I'd still be here??");
cCrazyLarry.Say("That laser had been working nonstop since I got here, and your door was locked up until now.");
cCrazyLarry.Say("So get cozy, friend, we're gonna be here a while. Come on, I saved you a sit next to Gunther.");
}


function hApple_Interact()
{
  cCrazyLarry.Walk(362, 404);
  cMick.Walk(362, 575, eBlock);
  cMick.Say("Ok. You ready? On my go.");
  cCrazyLarry.Say("Let's do this. Come on Gunther.");
  cMick.Say("1...");
  cMick.Say("2...");
  cMick.Say("GO!!");
  cCrazyLarry.Walk(488, 404, eBlock);
  oLaser.Animate(1, 5, eOnce, eBlock, eForwards);
  oLaser.Visible = false;
  cCrazyLarry.ChangeRoom(302);
  RestoreWalkableArea(2);
  cMick.Say("Umm...");
  cMick.Say("..Sorry?");
}
